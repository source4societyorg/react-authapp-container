'use strict';Object.defineProperty(exports,'__esModule',{value:true});exports.withConnect=exports.withSaga=exports.withReducer=exports.mapStateToProps=exports.mapDispatchToProps=exports.App=undefined;var _jsx=function(){var REACT_ELEMENT_TYPE=typeof Symbol==='function'&&Symbol.for&&Symbol.for('react.element')||60103;return function createRawReactElement(type,props,key,children){var defaultProps=type&&type.defaultProps;var childrenLength=arguments.length-3;if(!props&&childrenLength!==0){props={}}if(props&&defaultProps){for(var propName in defaultProps){if(props[propName]===void 0){props[propName]=defaultProps[propName]}}}else if(!props){props=defaultProps||{}}if(childrenLength===1){props.children=children}else if(childrenLength>1){var childArray=Array(childrenLength);for(var i=0;i<childrenLength;i++){childArray[i]=arguments[i+3]}props.children=childArray}return{$$typeof:REACT_ELEMENT_TYPE,type:type,key:key===undefined?null:''+key,ref:null,props:props,_owner:null}}}();var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if('value'in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor}}();var _react=require('react');var _react2=_interopRequireDefault(_react);var _scepterWebuiUtilities=require('@source4society/scepter-webui-utilities');var _reactRedux=require('react-redux');var _redux=require('redux');var _reactRouterDom=require('react-router-dom');var _reselect=require('reselect');var _actions=require('./actions');var _propTypes=require('./propTypes');var _propTypes2=_interopRequireDefault(_propTypes);var _states=require('./states');var _states2=_interopRequireDefault(_states);var _reducer=require('./reducer');var _reducer2=_interopRequireDefault(_reducer);var _saga=require('./saga');var _saga2=_interopRequireDefault(_saga);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError('Cannot call a class as a function')}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return call&&(typeof call==='object'||typeof call==='function')?call:self}function _inherits(subClass,superClass){if(typeof superClass!=='function'&&superClass!==null){throw new TypeError('Super expression must either be null or a function, not '+typeof superClass)}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass}var App=exports.App=function(_React$PureComponent){_inherits(App,_React$PureComponent);function App(){_classCallCheck(this,App);return _possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).apply(this,arguments))}_createClass(App,[{key:'componentWillMount',// eslint-disable-line react/prefer-stateless-function
value:function componentWillMount(){if(!this.props.loadedAuthFromLocalStorage){this.props.loadAuthFromLocalStorage()}}},{key:'render',value:function render(){var ShellComponent=this.props.shellComponent;var LoadingIndicatorComponent=this.props.loadingIndicatorComponent;return this.props.loadedAuthFromLocalStorage?_jsx(ShellComponent,{isAuthenticated:this.props.isAuthenticated,userRoles:this.props.userRoles,userId:this.props.userId,username:this.props.username,expires:this.props.expires,jwt:this.props.jwt,appProps:this.props}):_jsx(LoadingIndicatorComponent,{})}}]);return App}(_react2.default.PureComponent);var mapDispatchToProps=exports.mapDispatchToProps=function mapDispatchToProps(dispatch){return{loadAuthFromLocalStorage:function loadAuthFromLocalStorage(){return dispatch((0,_actions.loadAuthFromLocalStorage)())}}};var mapStateToProps=exports.mapStateToProps=(0,_reselect.createStructuredSelector)((0,_states2.default)());var withReducer=exports.withReducer=(0,_scepterWebuiUtilities.reducerInjector)({key:'app',reducer:_reducer2.default});var withSaga=exports.withSaga=(0,_scepterWebuiUtilities.sagaInjector)({key:'app',saga:_saga2.default});var withConnect=exports.withConnect=(0,_reactRedux.connect)(mapStateToProps,mapDispatchToProps);exports.default=(0,_reactRouterDom.withRouter)((0,_redux.compose)(withReducer,withSaga,withConnect)(App));
